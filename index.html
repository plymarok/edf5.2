function renderChroniqueLive(values){
  const {
    FS, FE, ds, S, da, A, de, E, k,
    q1, q2, fatherAfter, childAfter, fatherTotal,
    validOrder, ok1, ok2, ready
  } = values;

  const L = []; // paragraphs

  // 1) Cadre poétique mais précis
  if (FS && FE) {
    L.push(
      `<h4>Récit de la facture</h4>
       <p>Nous sommes sur la <span class="chip">${guessPeriodLabel(FS,FE)}</span>,
       qui s’ouvre le <b>${fmt(FS)}</b> et s’achève le <b>${fmt(FE)}</b>.
       C’est dans ce cadre que nous allons démêler la part du père et celle du fils.</p>`
    );
  } else {
    L.push(
      `<h4>Récit de la facture</h4>
       <p class="muted">Commence par préciser le début et la fin de période : je poserai ensuite les jalons et calculerai tout le reste.</p>`
    );
  }

  // 2) Les trois jalons racontés
  const jalons = [];
  if (ds) jalons.push(`à la <b>clôture précédente</b> (${fmt(ds)}), le compteur du père indique <b>${Number.isFinite(S)?raw(S):"?"}</b> kWh`);
  if (da) jalons.push(`le <b>jour de l’AP</b> (${fmt(da)}), l’index relevé est <b>${Number.isFinite(A)?raw(A):"?"}</b> kWh`);
  if (de) jalons.push(`à la <b>date anniversaire</b> (${fmt(de)}), on lit <b>${Number.isFinite(E)?raw(E):"?"}</b> kWh`);
  if (jalons.length){
    L.push(`<p>${jalons.join(" ; ")}.</p>`);
  } else {
    L.push(`<p class="muted">Il me faut les trois repères : fin N-1 → AP → anniversaire.</p>`);
  }

  // 3) La mécanique de répartition, dite en douceur
  if (da && de) {
    if (k >= 0 && k <= 1) {
      L.push(
        `<p>À partir de l’AP, la production se partage mécaniquement :
         <b>${pctText(k)} %</b> pour le père et <b>${pctText(1-k)} %</b> pour le fils.
         Avant l’AP, tout revient au père.</p>`
      );
    } else {
      L.push(`<p class="muted">Indique le <b>coefficient du père après AP</b> (entre 0 et 1) pour que je ventile père/fils.</p>`);
    }
  }

  // 4) Si tout est en place, on raconte les quantités comme une histoire
  if (ready) {
    L.push(
      `<h4>Ce que disent les compteurs</h4>
       <p>De la fin N-1 au jour d’AP, la scène se déroule exclusivement pour le père :
       <b>${raw(A)} − ${raw(S)} = ${raw(q1)} kWh</b>.</p>
       <p>De l’AP à l’anniversaire, la production atteint <b>${raw(q2)} kWh</b>,
       dont <b>${raw(fatherAfter)} kWh</b> au père et <b>${raw(childAfter)} kWh</b> au fils.</p>
       <p>Au total, la part du père attendue sur la facture s’élève à
       <b>${raw(fatherTotal)} kWh</b>.</p>`
    );

    L.push(
      `<p>${ok1 ? "✅" : "❌"} <i>la part père après + la part fils après</i> retombe bien sur <i>Q_après</i> ;
       ${ok2 ? "✅" : "❌"} <i>Q_avant + Q_après</i> reconstruit exactement le <i>Δindex</i>.
       Autrement dit : la narration colle aux chiffres.</p>`
    );
  } else if (ds && da && de && !validOrder) {
    L.push(
      `<p class="ko">⚠ L’ordre des événements paraît contrarié.
       Il doit se lire sans ambiguïté : <b>fin N-1 ≤ AP ≤ anniversaire</b>, avec des <b>index croissants</b>.</p>`
    );
  }

  // 5) Dernier mot d’aide si tout n’est pas encore prêt
  if (!ready) {
    const manques = [];
    if (!FS || !FE) manques.push("période de facturation");
    if (!ds || !Number.isFinite(S)) manques.push("index de fin N-1");
    if (!da || !Number.isFinite(A)) manques.push("index le jour d’AP");
    if (!de || !Number.isFinite(E)) manques.push("index à l’anniversaire");
    if (!(k>=0 && k<=1)) manques.push("coefficient du père après AP");
    if (manques.length){
      L.push(`<p class="muted">Encore un pas : ${manques.join(" • ")}.</p>`);
    }
  }

  chroniqueLive.innerHTML = L.join("");
}
